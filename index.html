<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Опрос настроения</title>
    <style>
        :root {




            /* Общие цвета */
            --bg-color: #1a1a2e;
            --container-bg-color: #2a2a3e;
            --section-bg-color: #3e4a5e;
            --text-color: #e0e0e0;
            --title-color: #fff;
            --button-color: #4A90E2;
            --button-hover-color: #357ABD;
            --selected-bg-color: #4a5a6e;
            
          
          
          
          
            /* Цвета границ для разных секций */
            --border-color-dep: #D13E4E; /* Депрессия */
            --border-color-sui: #c678dd; /* Суицидальные мысли */
            --border-color-anx: #FFA500; /* Тревога (оранжевый) */
            --border-color-anger: #FF4500; /* Злость (оранжево-красный) */
            --border-color-happy: #50C878; /* Счастье (изумрудно-зеленый) */
            --border-color-phys: #9370DB; /* Физические симптомы (средний фиолетовый) */
            --border-color-rel: #40E0D0; /* Отношения (бирюзовый) */






        }
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
          
        }
        .container {
            max-width: 700px;
            margin: 40px auto;
            padding: 30px;
            background-color: var(--container-bg-color);
            border-radius: 12px;
            box-sizing: border-box;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        h1, h2 {
            text-align: center;
            color: var(--title-color);
            margin-top: 0;
            font-weight: 600;
        }
        h1 {
            font-size: 2.2rem;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--button-color);
        }
        h2 {
            font-size: 1.5rem;
            margin-top: 0;
            margin-bottom: 38px;
             text-shadow:
        0 1px 2px rgba(0, 0, 0, 0.3), /* лёгкая тень для объёма */
        0 0 5px rgba(255, 255, 255, 0.05);
             line-height: 1.4;  
           margin-top: 10px;
          text-shadow:
        0 1px 2px rgba(0, 0, 0, 0.3),    /* лёгкая тень для объёма */
        0 0 5px rgba(255, 255, 255, 0.05), /* лёгкое свечение */
        0 0 20px rgba(0, 0, 0, 0.6);    /* <-- Большая мягкая тень */
          
          
        }
        .instructions {
            text-align: left;           /* выравниваем текст по левому краю */
            max-width: 600px;           /* ограничиваем ширину для удобочитаемости */
            margin: 0 auto 15px auto;   /* центрируем блок по горизонтали, отступ снизу */
            line-height: 1.5;           /* делаем текст «воздушным» */
            font-size: 1rem;            /* нормальный размер */
            opacity: 0.85;   
        }
        .question-section {
            background-color: var(--section-bg-color);
            border-radius: 15px;
            padding: 20px;
            margin-top: 40px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
          
        }





              /* Стиль для блока с описанием результата */
        .score-description {
            font-size: 1rem;
            margin-top: 15px; /* Отступ сверху */
            padding: 10px;
            background-color: #4a5a6e;
            border-radius: 8px;
            border-left: 3px solid var(--button-color);
            color: var(--text-color);








        }
     
        /* Привязка цветов границ к секциям через data-category атрибут */
        .question-section[data-category="depression"] { border: 2px solid var(--border-color-dep); }
      .question-section[data-category="suicidal"] { 
    border: 2px solid var(--border-color-sui); 
}

        .question-section[data-category="anxiety"] { border: 2px solid var(--border-color-anx); }
        .question-section[data-category="anger"] { border: 2px solid var(--border-color-anger); }
      .question-section[data-category="sui"] { border: 2px solid var(--border-color-sui); }
        .question-section[data-category="happiness"] { border: 2px solid var(--border-color-happy); }
        .question-section[data-category="physical"] { border: 2px solid var(--border-color-phys); }
        .question-section[data-category="relationships"] { border: 2px solid var(--border-color-rel); }

        .question-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .question-item {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #4a5a6e;
          
        }
        .question-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
       .question-text {
    font-weight: 600;                  /* чуть жирнее, чтобы выделялся */
    margin-bottom: 12px;
    display: block;
    color: #e8e8e8;                    /* светлый текст на тёмном фоне */
    font-size: 1.1rem;
    line-height: 1.4;                  /* чуть больше пространства между строк */
    text-shadow: 
        0 1px 2px rgba(0,0,0,0.7),    /* мягкая тень для глубины */
        0 0 4px rgba(0,0,0,0.3);      /* лёгкий ореол для читаемости */
         
}
      
        .radio-options {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
        }
        .radio-options label {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 5px 0;
            padding: 10px 5px;
            border-radius: 8px;
            transition: background-color 0.3s, transform 0.2s;
            cursor: pointer;
            width: 17%;
            box-sizing: border-box;
            background-color: #4a5a6e;
            text-align: center;
            position: relative;
        }
        .radio-options label:hover {
            background-color: #5d6d7e;
            transform: translateY(-2px);
        }
        .radio-options input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        .radio-options label span {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--text-color);
            transition: color 0.3s, transform 0.2s;
          
        }
      
      
      
      
      
        /* Стили для выбранной кнопки */
        .radio-options input[type="radio"] {
  position: absolute;
  opacity: 0;
  cursor: pointer;
}


.radio-options label span {
  font-size: 1.1rem;
}


.radio-options label:has(input[type="radio"]:checked) {
  background-color: #4a90e2; /* синий фон */
  transform: scale(1.05);
}


      
      
      
      
      
      
      
      
      
        button {
            margin-top: 30px;
            padding: 15px 25px;
            background-color: var(--button-color);
            color: var(--title-color);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: block;
            width: 100%;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s;
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3);
        }
        button:hover {
            background-color: var(--button-hover-color);
            transform: translateY(-2px);
        }
        .result {
            display: none;
            margin-top: 30px;
            padding: 25px;
            background-color: var(--section-bg-color);
            border-radius: 10px;
            border: 2px solid var(--button-color);
        }
        .score-section-result {
            font-weight: bold;
            font-size: 1.1rem;
            margin: 10px 0;
            padding: 5px;
            background-color: #4a5a6e;
            border-radius: 5px;
        }
        .score {
            color: var(--button-color);
            float: right;
        }
        #result-datetime {
            font-size: 0.9rem;
            color: #ccc;
            text-align: right;
            margin-top: 15px;
        
      
      
      
      
      
        }
        /* Адаптивные стили */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px;
            }
            .question-section {
                margin-top: 20px;
                padding: 15px;
            }
            .radio-options {
                justify-content: space-between;
                gap: 5px;
            }
            .radio-options label {
                width: 18%; /* Оптимизированный размер для 5 кнопок в ряд */
                font-size: 0.8rem;
                padding: 10px 5px;
            }
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.3rem; }
            .radio-options label span {
                font-size: 0.9rem;
            }


      
          
          
          
          
          
          
          
          
          
          
          
          .scale-container {
    width: 100%;
    height: 25px;
    background: #eee;
    border-radius: 12px;
    margin: 10px 0;
    overflow: hidden;
}

.scale-bar {
    height: 100%;
    width: 0;
    border-radius: 12px;
    transition: width 0.5s, background-color 0.5s;
    text-align: right;
    padding-right: 5px;
    color: #fff;
    font-weight: bold;
    line-height: 25px;
}
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
    </style>
</head>
<body>

  
  
  
<div class="container">
    <h1>Тест настроения</h1>
    <p class="instructions">
      Инструкция.<br><br>
       Этот короткий тест — способ быстро понять, как ты чувствуешь себя сейчас: спокойно ли внутри, хватает ли энергии, не давит ли тревога, депрессия и как ты себя чувствуешь в отношениях.

 <br><br>
        Прохождение теста займёт примерно 3 минуты.  
        <br><br>
        Оцени, как чувтсвуешь себя по шкале,  
        <strong>где:</strong><br>
        0 — совсем нет, 1 — немного, 2 — умеренно, 3 — сильно, 4 — очень сильно.
    </p>

    <form id="mood-survey">
    
      
      
      
        <!-- Группа 1: Депрессия (9 вопросов) -->
        <div class="question-section" data-category="depression">
            <h2>Насколько подавленным (депрессивным) ты себя чувствуете прямо сейчас?</h2>
            <ul class="question-list">
                <li class="question-item"><span class="question-text">1. Чувствуешь ли себя грустным, подавленным, несчастным, тоскливо, мрачно на душе?</span><div class="radio-options"><label><input type="radio" name="q_dep_1" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_1" value="1"><span>1</span></label><label><input type="radio" name="q_dep_1" value="2"><span>2</span></label><label><input type="radio" name="q_dep_1" value="3"><span>3</span></label><label><input type="radio" name="q_dep_1" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">2. Ощущение отчаяния, безнадёжности, кажется, что всё бессмысленно, будто впереди ничего хорошего нет?</span><div class="radio-options"><label><input type="radio" name="q_dep_2" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_2" value="1"><span>1</span></label><label><input type="radio" name="q_dep_2" value="2"><span>2</span></label><label><input type="radio" name="q_dep_2" value="3"><span>3</span></label><label><input type="radio" name="q_dep_2" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">3. Чувствуешь вину, стыд или ругаешь себя за что-то?</span><div class="radio-options"><label><input type="radio" name="q_dep_3" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_3" value="1"><span>1</span></label><label><input type="radio" name="q_dep_3" value="2"><span>2</span></label><label><input type="radio" name="q_dep_3" value="3"><span>3</span></label><label><input type="radio" name="q_dep_3" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">4. Чувствуешь себя никчёмым, бесполезным, неполноценным, не такой, как надо, хуже других?</span><div class="radio-options"><label><input type="radio" name="q_dep_4" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_4" value="1"><span>1</span></label><label><input type="radio" name="q_dep_4" value="2"><span>2</span></label><label><input type="radio" name="q_dep_4" value="3"><span>3</span></label><label><input type="radio" name="q_dep_4" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">5. Чувствуешь что у тебя перегруз, апатия, нет энергии и мотивации, всё лень делать? </span><div class="radio-options"><label><input type="radio" name="q_dep_5" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_5" value="1"><span>1</span></label><label><input type="radio" name="q_dep_5" value="2"><span>2</span></label><label><input type="radio" name="q_dep_5" value="3"><span>3</span></label><label><input type="radio" name="q_dep_5" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">6. Ничто не радует, пропало удовольствие от жизни, всё кажется пустым и пресным?</span><div class="radio-options"><label><input type="radio" name="q_dep_6" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_6" value="1"><span>1</span></label><label><input type="radio" name="q_dep_6" value="2"><span>2</span></label><label><input type="radio" name="q_dep_6" value="3"><span>3</span></label><label><input type="radio" name="q_dep_6" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">7. Чувствуешь себя одиноким, нелюбимым или изолированным, будто отрезан от людей?</span><div class="radio-options"><label><input type="radio" name="q_dep_7" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_7" value="1"><span>1</span></label><label><input type="radio" name="q_dep_7" value="2"><span>2</span></label><label><input type="radio" name="q_dep_7" value="3"><span>3</span></label><label><input type="radio" name="q_dep_7" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">8. Трудно принимать решения, нерешительность, сомнения, откладываешь дела?</span><div class="radio-options"><label><input type="radio" name="q_dep_8" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_8" value="1"><span>1</span></label><label><input type="radio" name="q_dep_8" value="2"><span>2</span></label><label><input type="radio" name="q_dep_8" value="3"><span>3</span></label><label><input type="radio" name="q_dep_8" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">9. Кажется, что стал хуже выглядеть, не нравится своя внешность?</span><div class="radio-options"><label><input type="radio" name="q_dep_9" value="0" required><span>0</span></label><label><input type="radio" name="q_dep_9" value="1"><span>1</span></label><label><input type="radio" name="q_dep_9" value="2"><span>2</span></label><label><input type="radio" name="q_dep_9" value="3"><span>3</span></label><label><input type="radio" name="q_dep_9" value="4"><span>4</span></label></div></li>
            </ul>
        </div>
      
      
      <!-- Группа 2: Суицидальные мысли (3 вопроса) -->
<!-- Группа 2: Суицидальные мысли (3 вопроса) -->
<div class="question-section" data-category="sui">
    <h2>Насколько у тебя сейчас присутствуют суицидальные мысли?</h2>
    <ul class="question-list">
        <li class="question-item">
            <span class="question-text">1. Бывает ли желание просто исчезнуть или умереть?
</span>
            <div class="radio-options">
                <label><input type="radio" name="q_sui_1" value="0" required><span>0</span></label>
                <label><input type="radio" name="q_sui_1" value="1"><span>1</span></label>
                <label><input type="radio" name="q_sui_1" value="2"><span>2</span></label>
                <label><input type="radio" name="q_sui_1" value="3"><span>3</span></label>
                <label><input type="radio" name="q_sui_1" value="4"><span>4</span></label>
            </div>
        </li>

        <li class="question-item">
            <span class="question-text">2. Возникают ли мысли о смерти или самоубийстве?</span>
            <div class="radio-options">
                <label><input type="radio" name="q_sui_2" value="0" required><span>0</span></label>
                <label><input type="radio" name="q_sui_2" value="1"><span>1</span></label>
                <label><input type="radio" name="q_sui_2" value="2"><span>2</span></label>
                <label><input type="radio" name="q_sui_2" value="3"><span>3</span></label>
                <label><input type="radio" name="q_sui_2" value="4"><span>4</span></label>
            </div>
        </li>

        <li class="question-item">
            <span class="question-text">3. Были ли у тебя попытки или конкретные планы покончить с собой?</span>
            <div class="radio-options">
                <label><input type="radio" name="q_sui_3" value="0" required><span>0</span></label>
                <label><input type="radio" name="q_sui_3" value="1"><span>1</span></label>
                <label><input type="radio" name="q_sui_3" value="2"><span>2</span></label>
                <label><input type="radio" name="q_sui_3" value="3"><span>3</span></label>
                <label><input type="radio" name="q_sui_3" value="4"><span>4</span></label>
            </div>
        </li>
    </ul>
</div>


      

        <!-- Группа 3: Тревога (5 вопросов) -->
        <div class="question-section" data-category="anxiety">
            <h2>Насколько ты сейчас тревожишься или напряжен?</h2>
            <ul class="question-list">
                <li class="question-item"><span class="question-text">1. Чувствуешь тревогу, волнение, внутреннее напряжение, не можешь расслабиться?</span><div class="radio-options"><label><input type="radio" name="q_anx_1" value="0" required><span>0</span></label><label><input type="radio" name="q_anx_1" value="1"><span>1</span></label><label><input type="radio" name="q_anx_1" value="2"><span>2</span></label><label><input type="radio" name="q_anx_1" value="3"><span>3</span></label><label><input type="radio" name="q_anx_1" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">2. Бывают внезапные приступы паники, страшно без причины? </span><div class="radio-options"><label><input type="radio" name="q_anx_2" value="0" required><span>0</span></label><label><input type="radio" name="q_anx_2" value="1"><span>1</span></label><label><input type="radio" name="q_anx_2" value="2"><span>2</span></label><label><input type="radio" name="q_anx_2" value="3"><span>3</span></label><label><input type="radio" name="q_anx_2" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">3. Испытываешь чувство опасности, необъяснимого страха или ощущение неизбежной беды?</span><div class="radio-options"><label><input type="radio" name="q_anx_3" value="0" required><span>0</span></label><label><input type="radio" name="q_anx_3" value="1"><span>1</span></label><label><input type="radio" name="q_anx_3" value="2"><span>2</span></label><label><input type="radio" name="q_anx_3" value="3"><span>3</span></label><label><input type="radio" name="q_anx_3" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">4. Замучили навязчивые мысли, постоянные переживания, не можешь «выключить» голову?</span><div class="radio-options"><label><input type="radio" name="q_anx_4" value="0" required><span>0</span></label><label><input type="radio" name="q_anx_4" value="1"><span>1</span></label><label><input type="radio" name="q_anx_4" value="2"><span>2</span></label><label><input type="radio" name="q_anx_4" value="3"><span>3</span></label><label><input type="radio" name="q_anx_4" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">5. Нервничаешь, всё внутри напряжено, словно натянутая струна, не можешь расслабиться?</span><div class="radio-options"><label><input type="radio" name="q_anx_5" value="0" required><span>0</span></label><label><input type="radio" name="q_anx_5" value="1"><span>1</span></label><label><input type="radio" name="q_anx_5" value="2"><span>2</span></label><label><input type="radio" name="q_anx_5" value="3"><span>3</span></label><label><input type="radio" name="q_anx_5" value="4"><span>4</span></label></div></li>
            </ul>
        </div>

      
      
        <!-- Группа 4: Злость (5 вопросов) -->
        <div class="question-section" data-category="anger">
            <h2>Насколько ты сейчас злишься?</h2>
            <ul class="question-list">
                <li class="question-item"><span class="question-text">1. Чувствуешь разочарование или расстройство?</span><div class="radio-options"><label><input type="radio" name="q_anger_1" value="0" required><span>0</span></label><label><input type="radio" name="q_anger_1" value="1"><span>1</span></label><label><input type="radio" name="q_anger_1" value="2"><span>2</span></label><label><input type="radio" name="q_anger_1" value="3"><span>3</span></label><label><input type="radio" name="q_anger_1" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">2. Тебя раздражают люди или какие-то ситуации?</span><div class="radio-options"><label><input type="radio" name="q_anger_2" value="0" required><span>0</span></label><label><input type="radio" name="q_anger_2" value="1"><span>1</span></label><label><input type="radio" name="q_anger_2" value="2"><span>2</span></label><label><input type="radio" name="q_anger_2" value="3"><span>3</span></label><label><input type="radio" name="q_anger_2" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">3. Есть обида, недовольство, вражда?</span><div class="radio-options"><label><input type="radio" name="q_anger_3" value="0" required><span>0</span></label><label><input type="radio" name="q_anger_3" value="1"><span>1</span></label><label><input type="radio" name="q_anger_3" value="2"><span>2</span></label><label><input type="radio" name="q_anger_3" value="3"><span>3</span></label><label><input type="radio" name="q_anger_3" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">4. Чувствуешь несправедливости, хочется спорить или конфликтовать с другими?</span><div class="radio-options"><label><input type="radio" name="q_anger_4" value="0" required><span>0</span></label><label><input type="radio" name="q_anger_4" value="1"><span>1</span></label><label><input type="radio" name="q_anger_4" value="2"><span>2</span></label><label><input type="radio" name="q_anger_4" value="3"><span>3</span></label><label><input type="radio" name="q_anger_4" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">5. Ты злишься, тебя всё бесит, ты вспыльчив?</span><div class="radio-options"><label><input type="radio" name="q_anger_5" value="0" required><span>0</span></label><label><input type="radio" name="q_anger_5" value="1"><span>1</span></label><label><input type="radio" name="q_anger_5" value="2"><span>2</span></label><label><input type="radio" name="q_anger_5" value="3"><span>3</span></label><label><input type="radio" name="q_anger_5" value="4"><span>4</span></label></div></li>
            </ul>
        </div>

      
      
      
        <!-- Группа 5: Счастье (10 вопросов) -->
        <div class="question-section" data-category="happiness">
            <h2>Насколько ты сейчас счастлив?</h2>
            <ul class="question-list">
                <li class="question-item"><span class="question-text">1. Ощущение счастья, радость и удовольствие: способность радоваться хорошим и обыденным вещам, чувствовать удовлетворенность жизнью и кайфовать от нее.</span><div class="radio-options"><label><input type="radio" name="q_happy_1" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_1" value="1"><span>1</span></label><label><input type="radio" name="q_happy_1" value="2"><span>2</span></label><label><input type="radio" name="q_happy_1" value="3"><span>3</span></label><label><input type="radio" name="q_happy_1" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">2. Чувствуешь, что ты важен и ценен, достойный всего?</span><div class="radio-options"><label><input type="radio" name="q_happy_2" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_2" value="1"><span>1</span></label><label><input type="radio" name="q_happy_2" value="2"><span>2</span></label><label><input type="radio" name="q_happy_2" value="3"><span>3</span></label><label><input type="radio" name="q_happy_2" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">3. Нравишься себе — относишься к себе с теплом, видишь в себе хорошее, чувствуешь своё достоинство?</span><div class="radio-options"><label><input type="radio" name="q_happy_3" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_3" value="1"><span>1</span></label><label><input type="radio" name="q_happy_3" value="2"><span>2</span></label><label><input type="radio" name="q_happy_3" value="3"><span>3</span></label><label><input type="radio" name="q_happy_3" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">4. Чувствуешь близость с людьми — что не один, есть контакт, живая связь?</span><div class="radio-options"><label><input type="radio" name="q_happy_4" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_4" value="1"><span>1</span></label><label><input type="radio" name="q_happy_4" value="2"><span>2</span></label><label><input type="radio" name="q_happy_4" value="3"><span>3</span></label><label><input type="radio" name="q_happy_4" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">5. Чувствуешь, что занимаешься чем-то важным, движешься вперед, увлечен своими делами?</span><div class="radio-options"><label><input type="radio" name="q_happy_5" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_5" value="1"><span>1</span></label><label><input type="radio" name="q_happy_5" value="2"><span>2</span></label><label><input type="radio" name="q_happy_5" value="3"><span>3</span></label><label><input type="radio" name="q_happy_5" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">6. Есть желание действовать, энергия, мотивация — чувствуешь себя живым, продуктивным?</span><div class="radio-options"><label><input type="radio" name="q_happy_6" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_6" value="1"><span>1</span></label><label><input type="radio" name="q_happy_6" value="2"><span>2</span></label><label><input type="radio" name="q_happy_6" value="3"><span>3</span></label><label><input type="radio" name="q_happy_6" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">7. Спокоен, расслаблен, чувствуешь внутреннее равновесие?</span><div class="radio-options"><label><input type="radio" name="q_happy_7" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_7" value="1"><span>1</span></label><label><input type="radio" name="q_happy_7" value="2"><span>2</span></label><label><input type="radio" name="q_happy_7" value="3"><span>3</span></label><label><input type="radio" name="q_happy_7" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">8. Ты чувствуешь связь с миром, другими людьми, чем-то большим?</span><div class="radio-options"><label><input type="radio" name="q_happy_8" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_8" value="1"><span>1</span></label><label><input type="radio" name="q_happy_8" value="2"><span>2</span></label><label><input type="radio" name="q_happy_8" value="3"><span>3</span></label><label><input type="radio" name="q_happy_8" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">9. Чувствуешь надежду, оптимизм и уверенность в будущем — будто всё ещё может быть хорошо?</span><div class="radio-options"><label><input type="radio" name="q_happy_9" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_9" value="1"><span>1</span></label><label><input type="radio" name="q_happy_9" value="2"><span>2</span></label><label><input type="radio" name="q_happy_9" value="3"><span>3</span></label><label><input type="radio" name="q_happy_9" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">10. В целом, насколько доволен своей жизнью?</span><div class="radio-options"><label><input type="radio" name="q_happy_10" value="0" required><span>0</span></label><label><input type="radio" name="q_happy_10" value="1"><span>1</span></label><label><input type="radio" name="q_happy_10" value="2"><span>2</span></label><label><input type="radio" name="q_happy_10" value="3"><span>3</span></label><label><input type="radio" name="q_happy_10" value="4"><span>4</span></label></div></li>
            </ul>
        </div>

      
      
      
        <!-- Группа 6: Физические симптомы (5 вопросов) -->
        <div class="question-section" data-category="physical">
            <h2>Есть ли у тебя сейчас физические симптомы?</h2>
            <ul class="question-list">
                <li class="question-item"><span class="question-text">1. Постоянная усталость, недостаток энергии, ощущение выжатости, без сил.</span><div class="radio-options"><label><input type="radio" name="q_phys_1" value="0" required><span>0</span></label><label><input type="radio" name="q_phys_1" value="1"><span>1</span></label><label><input type="radio" name="q_phys_1" value="2"><span>2</span></label><label><input type="radio" name="q_phys_1" value="3"><span>3</span></label><label><input type="radio" name="q_phys_1" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">2. Проблемы со сном - трудно заснуть, просыпаешься среди ночи или слишком рано утром?</span><div class="radio-options"><label><input type="radio" name="q_phys_2" value="0" required><span>0</span></label><label><input type="radio" name="q_phys_2" value="1"><span>1</span></label><label><input type="radio" name="q_phys_2" value="2"><span>2</span></label><label><input type="radio" name="q_phys_2" value="3"><span>3</span></label><label><input type="radio" name="q_phys_2" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">3. Изменение аппетита - стал есть больше или наоборот почти не ешь?</span><div class="radio-options"><label><input type="radio" name="q_phys_3" value="0" required><span>0</span></label><label><input type="radio" name="q_phys_3" value="1"><span>1</span></label><label><input type="radio" name="q_phys_3" value="2"><span>2</span></label><label><input type="radio" name="q_phys_3" value="3"><span>3</span></label><label><input type="radio" name="q_phys_3" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">4. Пропал интерес к сексу или стало меньше желания?</span><div class="radio-options"><label><input type="radio" name="q_phys_4" value="0" required><span>0</span></label><label><input type="radio" name="q_phys_4" value="1"><span>1</span></label><label><input type="radio" name="q_phys_4" value="2"><span>2</span></label><label><input type="radio" name="q_phys_4" value="3"><span>3</span></label><label><input type="radio" name="q_phys_4" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">5. Проблемы с концентрацией - сложно сосредоточиться, читать, думать, всё расплывается?</span><div class="radio-options"><label><input type="radio" name="q_phys_5" value="0" required><span>0</span></label><label><input type="radio" name="q_phys_5" value="1"><span>1</span></label><label><input type="radio" name="q_phys_5" value="2"><span>2</span></label><label><input type="radio" name="q_phys_5" value="3"><span>3</span></label><label><input type="radio" name="q_phys_5" value="4"><span>4</span></label></div></li>
             <li class="question-item">
  <span class="question-text">6. Учащённое сердцебиение, потливость, дрожь, головокружение, тошнота, нехватка воздуха?</span>
  <div class="radio-options">
    <label><input type="radio" name="q_phys_6" value="0" required><span>0</span></label>
    <label><input type="radio" name="q_phys_6" value="1"><span>1</span></label>
    <label><input type="radio" name="q_phys_6" value="2"><span>2</span></label>
    <label><input type="radio" name="q_phys_6" value="3"><span>3</span></label>
    <label><input type="radio" name="q_phys_6" value="4"><span>4</span></label>
  </div>
</li>

<li class="question-item">
  <span class="question-text">7. Часто беспокоишься о своём здоровье, видишь у себя «симптомы»?</span>
  <div class="radio-options">
    <label><input type="radio" name="q_phys_7" value="0" required><span>0</span></label>
    <label><input type="radio" name="q_phys_7" value="1"><span>1</span></label>
    <label><input type="radio" name="q_phys_7" value="2"><span>2</span></label>
    <label><input type="radio" name="q_phys_7" value="3"><span>3</span></label>
    <label><input type="radio" name="q_phys_7" value="4"><span>4</span></label>
  </div>
</li>

<li class="question-item">
  <span class="question-text">8. Чувство, будто ты сам или мир вокруг тебя нереален?</span>
  <div class="radio-options">
    <label><input type="radio" name="q_phys_8" value="0" required><span>0</span></label>
    <label><input type="radio" name="q_phys_8" value="1"><span>1</span></label>
    <label><input type="radio" name="q_phys_8" value="2"><span>2</span></label>
    <label><input type="radio" name="q_phys_8" value="3"><span>3</span></label>
    <label><input type="radio" name="q_phys_8" value="4"><span>4</span></label>
  </div>
</li>

            </ul>
        </div>

      
      
      
        <!-- Группа 7: Отношения (5 вопросов) -->
        <div class="question-section" data-category="relationships">
            <h2>Насколько ты сейчас доволен своими отношениями?</h2>
          
            <ul class="question-list">
                <li class="question-item"><span class="question-text">1. Между вами есть открытость, искреннее общение, поддержка и понимание?</span><div class="radio-options"><label><input type="radio" name="q_rel_1" value="0" required><span>0</span></label><label><input type="radio" name="q_rel_1" value="1"><span>1</span></label><label><input type="radio" name="q_rel_1" value="2"><span>2</span></label><label><input type="radio" name="q_rel_1" value="3"><span>3</span></label><label><input type="radio" name="q_rel_1" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">2. Чувствуешь себя одиноким, непонятым, трудно выражать свои чувства?</span><div class="radio-options"><label><input type="radio" name="q_rel_2" value="0" required><span>0</span></label><label><input type="radio" name="q_rel_2" value="1"><span>1</span></label><label><input type="radio" name="q_rel_2" value="2"><span>2</span></label><label><input type="radio" name="q_rel_2" value="3"><span>3</span></label><label><input type="radio" name="q_rel_2" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">3. Как вы справляетесь с конфликтами и спорами, находите общий язык?</span><div class="radio-options"><label><input type="radio" name="q_rel_3" value="0" required><span>0</span></label><label><input type="radio" name="q_rel_3" value="1"><span>1</span></label><label><input type="radio" name="q_rel_3" value="2"><span>2</span></label><label><input type="radio" name="q_rel_3" value="3"><span>3</span></label><label><input type="radio" name="q_rel_3" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">4. В ваших отношениях есть доброжелательность, привязанность, забота?</span><div class="radio-options"><label><input type="radio" name="q_rel_4" value="0" required><span>0</span></label><label><input type="radio" name="q_rel_4" value="1"><span>1</span></label><label><input type="radio" name="q_rel_4" value="2"><span>2</span></label><label><input type="radio" name="q_rel_4" value="3"><span>3</span></label><label><input type="radio" name="q_rel_4" value="4"><span>4</span></label></div></li>
                <li class="question-item"><span class="question-text">5. Есть интимность, доверие, чувство близости — или, наоборот, закрытость и дистанция? Чувство обиды или недопонимания в общении</span><div class="radio-options"><label><input type="radio" name="q_rel_5" value="0" required><span>0</span></label><label><input type="radio" name="q_rel_5" value="1"><span>1</span></label><label><input type="radio" name="q_rel_5" value="2"><span>2</span></label><label><input type="radio" name="q_rel_5" value="3"><span>3</span></label><label><input type="radio" name="q_rel_5" value="4"><span>4</span></label></div></li>
       <li class="question-item">
      <span class="question-text">6. Насколько ты доволен своей ролью в этих отношениях?</span>
      <div class="radio-options">
        <label><input type="radio" name="q_rel_6" value="0" required><span>0</span></label>
        <label><input type="radio" name="q_rel_6" value="1"><span>1</span></label>
        <label><input type="radio" name="q_rel_6" value="2"><span>2</span></label>
        <label><input type="radio" name="q_rel_6" value="3"><span>3</span></label>
        <label><input type="radio" name="q_rel_6" value="4"><span>4</span></label>
      </div>
    </li>

    <li class="question-item">
      <span class="question-text">7. Насколько доволен ролью другого человека?</span>
      <div class="radio-options">
        <label><input type="radio" name="q_rel_7" value="0" required><span>0</span></label>
        <label><input type="radio" name="q_rel_7" value="1"><span>1</span></label>
        <label><input type="radio" name="q_rel_7" value="2"><span>2</span></label>
        <label><input type="radio" name="q_rel_7" value="3"><span>3</span></label>
        <label><input type="radio" name="q_rel_7" value="4"><span>4</span></label>
      </div>
    </li>

    <li class="question-item">
      <span class="question-text">8. В целом, насколько доволен вашими отношениями?
</span>
      <div class="radio-options">
        <label><input type="radio" name="q_rel_8" value="0" required><span>0</span></label>
        <label><input type="radio" name="q_rel_8" value="1"><span>1</span></label>
        <label><input type="radio" name="q_rel_8" value="2"><span>2</span></label>
        <label><input type="radio" name="q_rel_8" value="3"><span>3</span></label>
        <label><input type="radio" name="q_rel_8" value="4"><span>4</span></label>
      </div>
    </li>

    <li class="question-item">
      <span class="question-text">9. Насколько ты удовлетворён интимной стороной ваших отношений?</span>
      <div class="radio-options">
        <label><input type="radio" name="q_rel_9" value="0" required><span>0</span></label>
        <label><input type="radio" name="q_rel_9" value="1"><span>1</span></label>
        <label><input type="radio" name="q_rel_9" value="2"><span>2</span></label>
        <label><input type="radio" name="q_rel_9" value="3"><span>3</span></label>
        <label><input type="radio" name="q_rel_9" value="4"><span>4</span></label>
      </div>
    </li>

  </ul>
</div>
        
            
      <div id="results" style="margin-top:20px;"></div>

      
    </form>
    <button type="submit" form="mood-survey">Подсчитать результаты</button>
    <div id="result" class="result" style="display:none; margin-top:20px;">
    <h2>Результаты</h2>
    <div id="result-content"></div>
    <div id="result-datetime"></div>
</div>
</div>

  
  
  
  
  
<script>
  
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('mood-survey');
    const resultContainer = document.getElementById('result');
    const resultContentDiv = document.getElementById('result-content');
    const copyHint = document.getElementById('copyHint');

  
  
  
    // Вопросы по шкалам
    const depQuestions = ['q_dep_1','q_dep_2','q_dep_3','q_dep_4','q_dep_5','q_dep_6','q_dep_7','q_dep_8','q_dep_9'];
    const suiQuestions = ['q_sui_1','q_sui_2','q_sui_3'];
    const anxQuestions = ['q_anx_1','q_anx_2','q_anx_3','q_anx_4','q_anx_5'];
    const angerQuestions = ['q_anger_1','q_anger_2','q_anger_3','q_anger_4','q_anger_5'];
    const happyQuestions = ['q_happy_1','q_happy_2','q_happy_3','q_happy_4','q_happy_5','q_happy_6','q_happy_7','q_happy_8','q_happy_9','q_happy_10'];
    const physQuestions = ['q_phys_1','q_phys_2','q_phys_3','q_phys_4','q_phys_5','q_phys_6','q_phys_7','q_phys_8'];
    const relQuestions = ['q_rel_1','q_rel_2','q_rel_3','q_rel_4','q_rel_5','q_rel_6','q_rel_7','q_rel_8','q_rel_9'];

  
  
  
  
    const questionLabels = {
        q_dep_1: "Грусть",
        q_dep_2: "Безнадежность",
        q_dep_3: "Вина",
        q_dep_4: "Низкая самооценка",
        q_dep_5: "Апатия",
        q_dep_6: "Потеря удовольствия",
        q_dep_7: "Одиночество",
        q_dep_8: "Нерешительность",
        q_dep_9: "Не нравлюсь себе",
        q_sui_1: "Мысли о смерти 1",
        q_sui_2: "Мысли о смерти 2",
        q_sui_3: "Мысли о смерти 3",
        q_anx_1: "Тревога",
        q_anx_2: "Паника (панические атаки)",
        q_anx_3: "Чувство опасности",
        q_anx_4: "Навязчивые мысли",
        q_anx_5: "Напряжение",
        q_anger_1: "Недовольство",
        q_anger_2: "Раздражение(обвинение)",
        q_anger_3: "Обида",
        q_anger_4: "Несправедливость",
        q_anger_5: "Гнев",
        q_happy_1: "Радость (я счастлив)",
        q_happy_2: "Ценю себя (или высокая самооценка)",
        q_happy_3: "Нравлюсь себе",
        q_happy_4: "Близость с людьми",
        q_happy_5: "Я достигаю",
        q_happy_6: "Энергия (мотивированный или продуктивный)",
        q_happy_7: "Спокойствие",
        q_happy_8: "Духовность",
        q_happy_9: "Оптимизм",
        q_happy_10: "Доволен своей жизнью",
        q_phys_1: "Усталость",
        q_phys_2: "Проблемы со сном",
        q_phys_3: "Изменение аппетита",
        q_phys_4: "Либидо",
        q_phys_5: "Концентрация",
        q_phys_6: "Учащённое сердцебиение",
        q_phys_7: "Беспокойство о здоровье",
        q_phys_8: "Дереализация",
        q_rel_1: "Открытость искренность",
        q_rel_2: "Одиночество",
        q_rel_3: "Разрешение конфликтов",
        q_rel_4: "Забота",
        q_rel_5: "Близость",
        q_rel_6: "Моя роль",
        q_rel_7: "Роль близкого",
        q_rel_8: "Доброжелательность",
        q_rel_9: "Интим"
    
  };

    
  
  
    // Описания для шкал с 5 уровнями детализации
const descriptions = {
    dep: [
        { max: 4, text: 'Очень низкий уровень подавленности. Настроение ровное, энергия в норме.' },
        { max: 8, text: 'Небольшая подавленность. Иногда проскакивает грусть, но вы быстро восстанавливаетесь.' },
        { max: 14, text: 'Умеренная подавленность. Есть усталость, потеря интереса, фон настроения снижен.' },
        { max: 20, text: 'Выраженная подавленность. Тяжело радоваться, хочется уединиться.' },
        { max: Infinity, text: 'Очень высокий уровень подавленности. Возможно, требуется поддержка или отдых.' }
    ],

  
  sui: [
  {max: 2, text: 'Мысли о смерти не беспокоят. Всё под контролем.'},
  {max: 5, text: 'Иногда появляются тяжёлые мысли. Важно не оставаться с ними один на один. Эти мысли обычно не опасны, если вы не строите конкретных планов действий. Однако будет мудрым решением проконсультироваться со специалистом в области психического здоровья, если у вас возникают какие-либо суицидальные фантазии или импульсы или если чувства депрессии и бессилия длятся более недели или двух. Ваша жизнь ценна, и не стоит играть в русскую рулетку с подобными мыслями.'},
  {max: Infinity, text: 'Частые или навязчивые мысли о смерти. Это сигнал — нужно поговорить со специалистом. Важно не оставаться с ними один на один.'}
],
  
  
    anx: [
        { max: 4, text: 'Очень низкий уровень тревожности. Спокойны и уверены в себе.' },
        { max: 8, text: 'Пограничная тревожность. Иногда волнуетесь, но держите контроль.' },
        { max: 14, text: 'Умеренная тревожность. Периодически беспокойство мешает расслабиться.' },
        { max: 20, text: 'Высокая тревожность. Часто внутреннее напряжение, трудно успокоиться.' },
        { max: Infinity, text: 'Очень высокая тревожность. Возможны панические или телесные реакции на стресс.' }
    ],

    anger: [
        { max: 4, text: 'Очень низкий уровень раздражения. Сохраняете спокойствие даже в сложных ситуациях.' },
        { max: 8, text: 'Небольшое раздражение. Иногда что-то задевает, но не выходит из-под контроля.' },
        { max: 14, text: 'Умеренный уровень злости. Бывают вспышки, но вы осознаёте и сдерживаете их.' },
        { max: 20, text: 'Высокий уровень злости. Эмоции часто выходят наружу, сложно удержаться.' },
        { max: Infinity, text: 'Очень высокий уровень агрессии. Возможно, стоит отдохнуть или поговорить об этом.' }
    ],

    happy: [
        { max: 10, text: 'Очень низкий уровень радости. Мало удовольствия, трудно найти вдохновение.' },
        { max: 20, text: 'Низкий уровень счастья. Есть хорошие моменты, но эмоциональный фон слабый.' },
        { max: 30, text: 'Средний уровень счастья. Иногда радуетесь, иногда устаете — баланс есть.' },
        { max: 38, text: 'Высокий уровень счастья. Часто чувствуете вдохновение, уверенность и удовольствие от жизни.' },
        { max: Infinity, text: 'Очень высокий уровень счастья! Настроение отличное, вы полны энергии и позитива.' }
    ],

    phys: [
        { max: 4, text: 'Почти нет физических симптомов. Тело расслаблено и спокойно.' },
        { max: 8, text: 'Небольшое физическое напряжение. Иногда чувствуете усталость или зажимы.' },
        { max: 14, text: 'Умеренные физические симптомы. Тело реагирует на стресс, но в целом вы справляетесь.' },
        { max: 20, text: 'Выраженные физические симптомы. Часто чувствуете усталость, напряжение или боль.' },
        { max: Infinity, text: 'Очень сильные физические проявления стресса. Нужен отдых и забота о теле.' }
    ],

    rel: [
        { max: 4, text: 'Очень низкое качество отношений. Есть отдалённость или конфликты.' },
        { max: 8, text: 'Низкий уровень удовлетворённости. Иногда чувствуете нехватку поддержки или доверия.' },
        { max: 14, text: 'Средний уровень отношений. Есть и близость, и недопонимание.' },
        { max: 20, text: 'Хороший уровень отношений. В целом чувствуете тепло, открытость и поддержку.' },
        { max: Infinity, text: 'Очень высокий уровень гармонии в отношениях. Доверие, близость и взаимность сильны.' }
    ]
};


  
  
  
  
    // Функция выбора описания
    function getDescription(scale, score) {
        const rules = descriptions[scale];
        for (let rule of rules) if(score <= rule.max) return rule.text;
        return '';
    }

    // Функция подсчёта баллов
 function calculateScore(names) {
    let score = 0;
    names.forEach(name => {
        const selected = form.querySelector(`input[name="${name}"]:checked`);
        if(selected) {
            console.log(name, 'выбрано', selected.value);  // <-- добавили проверку
            score += parseInt(selected.value,10);
        } else {
            console.log(name, 'ничего не выбрано');       // <-- если пусто
        }
    });
    return score;
}


   // Функция плавного цвета с расширенным градиентом
function getSmoothColor(value, max, invert = false) {
    const p = invert ? 1 - value / max : value / max;
    const gradient = [
        { pct: 0.0,  color: [33, 150, 243] },   // синий (#2196F3)
        { pct: 0.15, color: [76, 175, 80] },    // зелёный (#4CAF50)
        { pct: 0.3,  color: [139, 195, 74] },   // салатовый (#8BC34A)
        { pct: 0.45, color: [255, 235, 59] },   // жёлтый (#FFEB3B)
        { pct: 0.6,  color: [255, 193, 7] },    // янтарный (#FFC107)
        { pct: 0.75, color: [255, 152, 0] },    // оранжевый (#FF9800)
        { pct: 0.9,  color: [244, 67, 54] },    // красный (#F44336)
        { pct: 1.0,  color: [156, 39, 176] }    // фиолетовый (#9C27B0)
    ];

    let i = 1;
    while (i < gradient.length - 1 && p > gradient[i].pct) i++;
    const lower = gradient[i - 1], upper = gradient[i];
    const rangePct = (p - lower.pct) / (upper.pct - lower.pct);
    const r = Math.round(lower.color[0] + (upper.color[0] - lower.color[0]) * rangePct);
    const g = Math.round(lower.color[1] + (upper.color[1] - lower.color[1]) * rangePct);
    const b = Math.round(lower.color[2] + (upper.color[2] - lower.color[2]) * rangePct);
    return `rgb(${r},${g},${b})`;
}
  
  
  
    const maxScores = {
    dep: 36,
    sui: 12,
    anx: 20,
    anger: 20,
    happy: 40,
    phys: 32,
    rel: 36,
    sui: 16 // 👈 если, например, 4 вопроса по 0–4 балла
};

  
  
  
  
    // Обработчик submit
    form.addEventListener('submit', function(event) {
        event.preventDefault();
        resultContentDiv.innerHTML='';

      const scores = {
    dep: calculateScore(depQuestions),
    sui: calculateScore(suiQuestions), // 👈 добавили сюда
    anx: calculateScore(anxQuestions),
    anger: calculateScore(angerQuestions),
    happy: calculateScore(happyQuestions),
    phys: calculateScore(physQuestions),
    rel: calculateScore(relQuestions)
};

        for(let scale in scores){
            const score = scores[scale];
            const percentage = Math.min(100, score/maxScores[scale]*100);
const circleLeft = Math.max(0, Math.min(100, percentage));

            const color = getSmoothColor(score, maxScores[scale], scale==='happy'||scale==='rel');
            const text = getDescription(scale, score);

            const block=document.createElement('div');
            block.style.marginBottom='25px';
            block.innerHTML=`
               <div style="font-weight:bold; margin-bottom:5px;">
    ${{
              
        dep: 'ДЕПРЕССИЯ',
        sui: 'Мысли о смерти',
        anx: 'Тревожность',
        anger: 'Раздражение / злость',
        happy: 'Счастье и удовлетворённость',
        phys: 'Физическое состояние',
        rel: 'Отношения с людьми'
    }
            [scale] || scale.toUpperCase()}
</div>
                <div style="position:relative; height:20px; border-radius:12px; background:#ddd; overflow:hidden; margin-bottom:5px;">
                    <div style="height:100%; width:${percentage}%; background-color:${color}; border-radius:12px;"></div>
                    <div style="
                        position:absolute;
                        top:50%;
                        left:${percentage}%;
                        transform: translate(-50%,-50%);
                        width:28px;
                        height:28px;
                        border-radius:50%;
                        background-color:${color};
                        display:flex;
                        align-items:center;
                        justify-content:center;
                        font-weight:bold;
                        font-size:14px;
                        color:white;
                    ">
                        ${score}
                    </div>
                </div>
                <div>${text}</div>
            `;
            resultContentDiv.appendChild(block);
        }

        const now=new Date();
        document.getElementById('result-datetime').textContent=`Дата и время прохождения: ${now.toLocaleDateString('ru-RU',{year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit'})}`;
        resultContainer.style.display='block';
        resultContainer.scrollIntoView({behavior:'smooth'});
    });

  
  
  
  
    // Кнопка автозаполнения
    const submitBtn = document.querySelector('button[type="submit"]');
    const autoBtn = document.createElement('button');
    autoBtn.textContent='🔧 Заполнить тест автоматически';
    autoBtn.type='button';
    autoBtn.style.marginLeft='10px';
    submitBtn.after(autoBtn);

    autoBtn.addEventListener('click',()=>{
        const questions = document.querySelectorAll('input[type="radio"]');
        const grouped={};
        questions.forEach(q=>{ if(!grouped[q.name]) grouped[q.name]=[]; grouped[q.name].push(q); });
        for(const key in grouped){
            const opts=grouped[key];
            opts[Math.floor(Math.random()*opts.length)].checked=true;
        }
        submitBtn.click();
    });

  
  
  
  
    // Кнопка копирования результата
    document.getElementById("copyResultBtn").addEventListener("click",function(){
        let text = 'Тест настроения — по вопросам\n\n';
       
const groups = {
    Депрессия: depQuestions,
    'Мысли о смертибезысходности': suiQuestions,
    Тревога: anxQuestions,
    Злость: angerQuestions,
    Счастье: happyQuestions,
    'Физические симптомы': physQuestions,
    Отношения: relQuestions
};


        const labels = Object.assign({}, ...[depQuestions, suiQuestions, anxQuestions, angerQuestions, happyQuestions, physQuestions, relQuestions]
    .map(arr => Object.fromEntries(arr.map(k => [k, k]))));


        for(const [groupName, questions] of Object.entries(groups)){
            let sum=0;
            text+=`=== ${groupName} ===\n`;
            questions.forEach(q=>{
                const val=form.querySelector(`input[name="${q}"]:checked`);
                const v=val?parseInt(val.value,10):0;
                sum+=v;
                text+=`• ${questionLabels[q]}: ${v}\n`;
            });
            text+=`Сумма: ${sum}/${questions.length*4}\n\n`;
        }
        text+=`📅 Дата и время прохождения: ${new Date().toLocaleDateString('ru-RU',{year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit'})}`;

        const temp=document.createElement("textarea");
        temp.value=text;
        document.body.appendChild(temp);
        temp.select();
        document.execCommand("copy");
        document.body.removeChild(temp);

        copyHint.innerText="✅ Скопировано! Вставь в заметки или отправь в Телеграм.";
        copyHint.style.color="#50C878";
        setTimeout(()=>{copyHint.innerText="После прохождения теста нажми и вставь в заметки или Телеграм"; copyHint.style.color="#999";},4000);
    });
});





  
  
  
  
 

 
  
  
  
  
  
  
  

</script>
  
  
  
  
  
  
  
<style>
#copyResultBtn {
  width: 100%;
  max-width: 400px;        /* ПК — не растягиваем */
  background:#4b7bec;
  color:white;
  border:none;
  padding:10px 20px;
  border-radius:12px;
  cursor:pointer;
  font-size:15px;
  transition:0.2s;
}

/* На телефоне делаем кнопку уже */
@media (max-width: 480px) {
  #copyResultBtn {
    max-width: 250px;  /* уже кнопка */
    padding:8px 16px;
    font-size:14px;
  }
}
</style>

<div style="display:flex; justify-content:center; margin-top:10px; margin-bottom:40px;">
  <button id="copyResultBtn">📋 Скопировать результат</button>
</div>


  
<!-- Подсказка -->
<p id="copyHint" style="text-align:center; font-size:0.9rem; color:#999; margin-top:8px;">
После прохождения теста нажми и вставь в заметки или Телеграм
</p>

  
  
  
  
  
  
  
  
  
  

</body>
</html>
